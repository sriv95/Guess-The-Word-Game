<!DOCTYPE html>
<html>
<head>
    <title>Guess the word</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kodchasan&family=Prompt:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
    <div style="max-width: 50%; transform: scale();">
        <div class="navbar">
            <div class="dropdown">
                <button style="background-color: transparent;font-size: 48px;color: #ffffff;border: transparent;position: fixed;margin-left: 50%;">&#x22EE</button>
                <div class="dropdown-content">
                    <input style="top: 5%; font-size: 18px; width: 170px; height: 60px; position: fixed;text-align: left;" type="button" value="‚ùî‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô" onclick="showhowtoplayModal()"></input>
                    <input style="top: 10.5%; font-size: 18px; width: 170px; height: 60px; position: fixed;text-align: left;" type="button" value="üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ" onclick="showhintModal()"></input>
                    <input style="top: 16%; font-size: 18px; width: 170px; height: 60px; position: fixed;text-align: left;" type="button" value="üè≥Ô∏è ‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ" onclick="giveUp()"></input>
                    <input style="top: 21.5%; font-size: 18px; width: 170px; height: 60px; position: fixed;text-align: left;" type="button" value="üìú ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥" onclick="showcreditsModal()"></input>
                </div>
            </div> 
          </div>          
        <div style="width: 10%;" id="options" class="options">
        </div>
        <h1>‡πÄ‡∏Å‡∏°‡πÄ‡∏î‡∏≤‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</h1>
        <label>‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà: <strong>#0</strong></p>
        <div id="stopwatch"></div>
        <p id="guesses">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥: <strong>0</strong></p>
        <form>
            <input style="width: 86%;" type="text" id="guess" placeholder="type a word">
            <input style ="height: auto;" type="button" id="submitButton" value="Check" onclick="checkGuess()">
            <input style ="height: auto; display: none;" type="button" id="resultButton" value="View Result" onclick="showModal()">
        </form>
    </div>
    <table id="wordguessedlist">
        <tr>
            <th style="width: 75%;">Guessed Word (‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏≤‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß)</th>
            <th>Similarity (%)</th>
        </tr>
    </table>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="hideModal()">&times;</button>
            <p style="text-align: center; font-size: 28px;" id="congrat"></p>
            <p style="text-align: center; font-size: 20px;" id="thewordwas"></p>
            <p style="text-align: center; font-size: 20px;" id="yougotit"></p>
        </div>
    </div>
    <div id="howtoplayModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="hidehowtoplayModal()">&times;</button>
            <p style="text-align: center; font-size: 28px;"><strong>‚ùî‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</strong></p>
            <p style="text-align: center; font-size: 20px;">
                ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏≤‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å
                <br></br>
                ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á
            </p>
        </div>
    </div>
    <div id="hintModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="hidehintModal()">&times;</button>
            <p style="text-align: center; font-size: 28px;"><strong>üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</strong></p>
            <p style="text-align: center; font-size: 20px;">
                fruit
            </p>
        </div>
    </div>
    <div id="credits" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="hidecreditsModal()">&times;</button>
            <p style="text-align: center; font-size: 28px;"><strong>üìú ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥</strong></p>
            <p style="text-align: center; font-size: 20px;">
                ‡∏ô‡∏≤‡∏¢ ‡∏ä‡∏¥‡∏ô‡∏†‡∏±‡∏ó‡∏£ ‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏à ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 27 ‡∏°.6/13
                <br></br>
                ‡∏ô‡∏≤‡∏¢ ‡∏ì‡∏±‡∏ê‡∏†‡∏±‡∏ó‡∏£ ‡∏ß‡∏£‡∏£‡∏ì‡∏†‡∏¥‡∏•‡∏∞ ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 31 ‡∏°.6/13
                <br></br>
                ‡∏ô‡∏≤‡∏¢ ‡∏ó‡∏¥‡∏ô‡∏†‡∏±‡∏ó‡∏£ ‡∏®‡∏£‡∏µ‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 36 ‡∏°.6/13
            </p>
        </div>
    </div>
</body>
<script>
    var secretWord = "banana";
    var guessCount = 0;
    var gameend = 0;
    const startTime = Date.now();
    const stopwatch = setInterval(() => {
    const elapsedTime = Date.now() - startTime;
    const minutes = Math.floor(elapsedTime / 60000);
    const seconds = Math.floor((elapsedTime % 60000) / 1000);
    const stopwatchDisplay = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    document.getElementById('stopwatch').innerHTML = "‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: " +stopwatchDisplay+ "";
    }, 1000);
    function showcreditsModal () {
        document.getElementById("credits").style.display = "block";
    }
    function hidecreditsModal () {
        document.getElementById("credits").style.display = "none";
    }
    function showhintModal () {
        document.getElementById("hintModal").style.display = "block";
    }
    function hidehintModal () {
        document.getElementById("hintModal").style.display = "none";
    }
    function showhowtoplayModal () {
        document.getElementById("howtoplayModal").style.display = "block";
    }
    function hidehowtoplayModal () {
        document.getElementById("howtoplayModal").style.display = "none";
    }
    function showModal() {
        clearInterval(stopwatch);
        document.getElementById("myModal").style.display = "block";
        document.getElementById("submitButton").style.display = "none";
        document.getElementById("guess").style.display = "none";
        document.getElementById("resultButton").style.display = "block";
        if (gameend > 0) {
            var congrat = document.getElementById("congrat");
            congrat.innerHTML = "üéâ<strong>Congratulations!</strong>üéâ";
        }
        else {
            var congrat = document.getElementById("congrat");
            congrat.innerHTML = "üéà<strong>‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤!</strong>üéà";
        }
    }
    function hideModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "none";
        }
    function giveUp() {
            if (confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ?")) {
                gameend = 0;
                showModal()
                var thewordwas = document.getElementById("thewordwas");
                thewordwas.innerHTML = "‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏∑‡∏≠ <strong>" + secretWord + "</strong>";
                var yougotit = document.getElementById("yougotit");
                yougotit.innerHTML = "‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤ <strong>" + guessCount + "</strong> ‡∏Ñ‡∏≥";
            }
        }
    function levenshteinDistance(a, b) {
        var distances = new Array(a.length + 1);
        distances[0] = new Array(b.length + 1);
        for (var i = 0; i <= a.length; i++) {
            distances[i] = new Array(b.length + 1);
        }
        for (var i = 0; i <= a.length; i++) {
            distances[i][0] = i;
        }
        for (var j = 0; j <= b.length; j++) {
            distances[0][j] = j;
        }
        for (var i = 1; i <= a.length; i++) {
            for (var j = 1; j <= b.length; j++) {
                var cost = (a[i - 1] === b[j - 1]) ? 0 : 1;
                distances[i][j] = Math.min(
                    distances[i - 1][j] + 1,
                    distances[i][j - 1] + 1,
                    distances[i - 1][j - 1] + cost
                );
            }
        }
        return distances[a.length][b.length];
    }
    function calculateSimilarity(word1, word2) {
        var distance = levenshteinDistance(word1, word2);
        var longestLength = Math.max(word1.length, word2.length);
        var similarity = Math.round((longestLength - distance) / longestLength * 100);
        return similarity;
        }
    function checkGuess() {
  var varguess = document.getElementById("guess");
  var vartext = varguess.value.trim();

  if (vartext === '') {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö!');
    return;
  }

  // Load the file asynchronously using fetch API
  fetch("Games/001.txt")
    .then(response => response.text())
    .then(data => {
      var lines = data.split("\n");

      for (var i = 0; i < lines.length; i++) {
        var line = lines[i].trim();
        
        if (line === vartext) {
          guessCount++;
          var similarity = (1000 - i) / 10;

          // Rest of the code remains the same
          var table = document.getElementById("wordguessedlist");
          for (var j = 0; j < table.rows.length; j++) {
            var firstCell = table.rows[j].cells[0];
            if (firstCell.innerHTML === vartext) {
              alert("‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß!");
              return;
            }
          }
          
          // Remaining code as before
          var guesses = document.getElementById("guesses");
          guesses.innerHTML = "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥: <strong>" + guessCount + "</strong>";
          
          if (vartext === secretWord) {
            gameend++;
            showModal();
            var thewordwas = document.getElementById("thewordwas");
            thewordwas.innerHTML = "‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏∑‡∏≠ <strong>" + vartext + "</strong>";
            var yougotit = document.getElementById("yougotit");
            yougotit.innerHTML = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏î‡∏≤‡∏ñ‡∏π‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <strong>" + guessCount + "</strong> ‡∏Ñ‡∏≥";
          }
          
          var row = table.insertRow(1);
          var cell1 = row.insertCell(0);
          var cell2 = row.insertCell(1);
          if (similarity < 50) {
            cell1.className = "lcoral";
          } else if (similarity >= 50 && similarity < 75) {
            cell1.className = "lsalmon";
          } else {
            cell1.className = "lgreen";
          }  
          cell1.innerHTML = ""+ vartext +"";
          cell2.innerHTML = ""+ similarity.toFixed(1) +"%";
          
          var rows = table.rows;
          var numRows = rows.length;
          for (var k = 2; k < numRows; k++) {
            var maxIndex = k;
            for (var l = k + 1; l < numRows; l++) {
              var maxCellValue = parseFloat(rows[maxIndex].cells[1].innerHTML);
              var cellValue = parseFloat(rows[l].cells[1].innerHTML);
              if (cellValue > maxCellValue) {
                maxIndex = l;
              }
            }
            if (maxIndex !== k) {
              var tempRow = rows[k].innerHTML;
              rows[k].innerHTML = rows[maxIndex].innerHTML;
              rows[maxIndex].innerHTML = tempRow;
            }
          }
          
          document.getElementById('guess').value = '';
          return;
        }
      }

      // If the word does not match any line in the file, generate random similarity
      var similarity = (Math.random() * 100).toFixed(1);
      // Rest of the code remains the same
      var table = document.getElementById("wordguessedlist");
      for (var j = 0; j < table.rows.length; j++) {
        var firstCell = table.rows[j].cells[0];
        if (firstCell.innerHTML === vartext) {
          alert("‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß!");
          return;
        }
      }
      
      // Remaining code as before
      var guesses = document.getElementById("guesses");
      guesses.innerHTML = "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥: <strong>" + guessCount + "</strong>";
      
      if (vartext === secretWord) {
        gameend++;
        showModal();
        var thewordwas = document.getElementById("thewordwas");
        thewordwas.innerHTML = "‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏∑‡∏≠ <strong>" + vartext + "</strong>";
        var yougotit = document.getElementById("yougotit");
        yougotit.innerHTML = "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏î‡∏≤‡∏ñ‡∏π‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <strong>" + guessCount + "</strong> ‡∏Ñ‡∏≥";
      }
      
      var row = table.insertRow(1);
      var cell1 = row.insertCell(0);
      var cell2 = row.insertCell(1);
      if (similarity < 50) {
        cell1.className = "lcoral";
      } else if (similarity >= 50 && similarity < 75) {
        cell1.className = "lsalmon";
      } else {
        cell1.className = "lgreen";
      }  
      cell1.innerHTML = ""+ vartext +"";
      cell2.innerHTML = ""+ similarity +"%";
      
      var rows = table.rows;
      var numRows = rows.length;
      for (var k = 2; k < numRows; k++) {
        var maxIndex = k;
        for (var l = k + 1; l < numRows; l++) {
          var maxCellValue = parseFloat(rows[maxIndex].cells[1].innerHTML);
          var cellValue = parseFloat(rows[l].cells[1].innerHTML);
          if (cellValue > maxCellValue) {
            maxIndex = l;
          }
        }
        if (maxIndex !== k) {
          var tempRow = rows[k].innerHTML;
          rows[k].innerHTML = rows[maxIndex].innerHTML;
          rows[maxIndex].innerHTML = tempRow;
        }
      }
      
      document.getElementById('guess').value = '';
    })
    .catch(error => {
      console.error('Error fetching file:', error);
    });
}

    document.getElementById('guess').addEventListener('keydown', function(event) {
            if (event.keyCode === 13) {
            event.preventDefault();
                if (gameend === 0) {
                    checkGuess();
                }
            }
        });
</script>
</html>