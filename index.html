<!DOCTYPE html>
<html>
<head>
    <title>‡πÄ‡∏Å‡∏°‡πÄ‡∏î‡∏≤‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kodchasan&family=Prompt:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/animation.css" />
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <link rel="stylesheet" type="text/css" href="css/class.css" />
</head>
<body>
    <div>
        <ul>
            <li class="title"><input type="button" value="‡πÄ‡∏Å‡∏°‡πÄ‡∏î‡∏≤‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå" style="font-size: xx-large;font-weight: bolder;"></input></li>
            <li class="info" style="--i:3;"><input id="info_gameid" type="button" value="‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà: #1" style="font-size: x-large;font-weight: bold;"></input></li>
            <li class="info" style="--i:2;"><input id="info_stopwatch" type="button" value="‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: 0:00" style="font-size: x-large;font-weight: bold;"></input></li>
            <li class="info" style="--i:1;"><input id="info_guessescount" type="button" value="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: 0" style="font-size: x-large;font-weight: bold;"></input></li>
            <li class="textbox" id="textbox_guess_li"><input id="textbox_guess" type="text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ" style="font-size: x-large;font-weight: bold;"></input></li>
            <li class="checkbutton" id="checkbutton"><input type="button" value="Check" onclick="checkGuess()" style="font-size: x-large;font-weight: bold;"></input></li>
            <li class="viewresultbutton"><input id="viewresultbutton" type="button" value="View Result" onclick="ViewResult()" style="font-size: x-large;font-weight: bold;"></input></li>
        </ul>
        <ul class="options">
            <li style="--i:4;"><input type="button" value="‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô" onclick="howtoplayModal()"></input><i></i><span>‚ùî</span></li>
            <li style="--i:3;"><input type="button" value="‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ" onclick="hintModal()"></input><i></i><span>üí°</span></li>
            <li style="--i:2;"><input type="button" value="‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ" onclick="giveup()"></input><i></i><span>üè≥Ô∏è</span></li>
            <li style="--i:1;"><input type="button" value="‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥" onclick="creditsModal()"></input><i></i><span>üìú</span></li>
            <li style="--i:0;"><input type="button" value="Language" onclick="howtoplayModal()"></input><i></i><span>üåé</span></li>
            <li class="modal" id="modal" onclick="destroyModal()">
                <input id="modalinput" type="button" value="modal" style="font-size: xx-large;" onclick="destroyModal()">
                <p id="modalp" style="padding: 10%;margin-top: -125px;">Hello World</p>
                </input>
                <i></i>
                <span></span>
            </li>            
        </ul>
        <table id="wordguessedlist">
            <tr>
                <th style="width: 75%;">Guessed Word (‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏≤‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß)</th>
                <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (%)</th>
            </tr>
        </table>
    </div>
</body>
<script>
    //start
    var secretWord = "banana";
    function readSecretWordFromFile() {
        fetch("Games/001.txt")
            .then((response) => response.text())
            .then((data) => {
            const lines = data.split("\n");
            if (lines.length > 0) {
                secretWord = lines[0].trim();
            }
            })
            .catch((error) => {
            console.error("Error reading the secret word:", error);
            });
        }
    readSecretWordFromFile();
    var guessCount = 0;
    var gameend = 1;

    //stopwatch
    const startTime = Date.now();
    const stopwatch = setInterval(() => {
    const elapsedTime = Date.now() - startTime;
    const minutes = Math.floor(elapsedTime / 60000);
    const seconds = Math.floor((elapsedTime % 60000) / 1000);
    const stopwatchDisplay = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    document.getElementById('info_stopwatch').value = "‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: " +stopwatchDisplay+ "";
    }, 1000);

    //modal
    var modal = document.getElementById("modal");
    var modalinput = document.getElementById("modalinput");
    var modalp = document.getElementById("modalp");
    function destroyModal() { modal.style.opacity = 0 }
    function howtoplayModal() { modal.style.opacity = 1;
        modalinput.value = "‚ùî‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô";
        modalinput.style.fontSize = "xx-large";
        modalp.innerHTML = "‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏≤‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å<br></br>‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á";
    }
    function hintModal() { modal.style.opacity = 1;
        modalinput.value = "üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ";
        modalinput.style.fontSize = "xx-large";
        modalp.innerHTML = "fruit";
    }
    function creditsModal() { modal.style.opacity = 1;
        modalinput.style.fontSize = "xx-large";
        modalinput.value = "üìú ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥";
        modalp.innerHTML = "‡∏ô‡∏≤‡∏¢ ‡∏ä‡∏¥‡∏ô‡∏†‡∏±‡∏ó‡∏£ ‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏à ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 27 ‡∏°.6/13<br></br>‡∏ô‡∏≤‡∏¢ ‡∏ì‡∏±‡∏ê‡∏†‡∏±‡∏ó‡∏£ ‡∏ß‡∏£‡∏£‡∏ì‡∏†‡∏¥‡∏•‡∏∞ ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 31 ‡∏°.6/13<br></br>‡∏ô‡∏≤‡∏¢ ‡∏ó‡∏¥‡∏ô‡∏†‡∏±‡∏ó‡∏£ ‡∏®‡∏£‡∏µ‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 36 ‡∏°.6/13";
    }
    function endModal() { modal.style.opacity = 1;
        clearInterval(stopwatch);
        document.getElementById("textbox_guess_li").style.opacity = 0;
        document.getElementById("checkbutton").style.opacity = 0;
        document.getElementById("viewresultbutton").style.opacity = 1;
        document.getElementById("viewresultbutton").style.zIndex = 10;
    }
    //giveup
    function giveup() { 
        if (confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ?")) {
            modal.style.opacity = 1;
            gameend = -1;
            endModal()
            modalinput.value = "üéà‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤üéà";
            modalinput.style.fontSize = "large";
            modalp.innerHTML = "‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏∑‡∏≠: " +secretWord+" <br></br><br></br> ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ <br></br> ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤ <strong>" + guessCount + "</strong> ‡∏Ñ‡∏≥";
        }
    }

    //check Guess
    function checkGuess() {
        if (gameend != 0) {
    var varguess = document.getElementById("textbox_guess");
    var vartext = varguess.value;
    if (vartext.trim() === '') {
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö!');
        return;
    }
    var table = document.getElementById("wordguessedlist");
    for (var i = 0; i < table.rows.length; i++) {
        var firstCell = table.rows[i].cells[0];
        if (firstCell.innerHTML === vartext) {
        alert("‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß!");
        return;
        }
    }
    guessCount++;
    var guesses = document.getElementById("info_guessescount");
    guesses.value = "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: " + guessCount;
    if (vartext === secretWord) {
        gameend = 1;
        endModal();
        modalinput.value = "üéâCongratulations!üéâ";
        modalinput.style.fontSize = "large";
        modalp.innerHTML = "‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏∑‡∏≠: " +secretWord+" <br></br><br></br> ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å <br></br> ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤ <strong>" + guessCount + "</strong> ‡∏Ñ‡∏≥";
    }

    fetch("Games/001.txt")
        .then((response) => response.text())
        .then((data) => {
        const lines = data.split("\n");
        const totalLines = lines.length;
        const secretWordIndex = lines.findIndex((line) => line.trim() === vartext);
        var similarity = 0.0
        if (secretWordIndex !== -1) {
            similarity = ((totalLines - secretWordIndex) / 10).toFixed(1);
        }
            var row = table.insertRow(1);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            if (similarity < 50) {
                cell1.className = "lcoral";
            } else if (similarity >= 50 && similarity < 75) {
                cell1.className = "lsalmon";
            } else {
                cell1.className = "lgreen";
            }  
            cell1.innerHTML = ""+ vartext +"";
            cell2.innerHTML = ""+ similarity +"%";
            var rows = table.rows;
        var numRows = rows.length;
        for (var i = 2; i < numRows; i++) {
            var maxIndex = i;
            for (var j = i + 1; j < numRows; j++) {
                var maxCellValue = parseInt(rows[maxIndex].cells[1].innerHTML);
                var cellValue = parseInt(rows[j].cells[1].innerHTML);
                if (cellValue > maxCellValue) {
                    maxIndex = j;
                }
            }
            if (maxIndex !== i) {
                var tempRow = rows[i].innerHTML;
                rows[i].innerHTML = rows[maxIndex].innerHTML;
                rows[maxIndex].innerHTML = tempRow;
            }
        }
        });
    document.getElementById("textbox_guess").value = ''
        }
}
document.getElementById('textbox_guess').addEventListener('keydown', function(event) {
    if (event.keyCode === 13) {
    event.preventDefault();
        if (gameend != 0) {
            checkGuess();
        }
    }
});
</script>